var Object_parse = require('object-parse')

// Cli input --> node Test_me.js debug=false port=7002 message="'Hello object parse"' appname='"object parse test script"'

function log(message) {
    console.log('['+data.settings().appname+'] '+message)
}

var data = new Object_parse()

data.options({   debug: [true, false],
                 appname: ['My server'],
                 message: [''],
                 port: [8085, 8080],
})

log('data.settings() before argument set\n')
console.dir(data.settings())
console.log('\n\n')
log('Options are')
console.dir(data.options())
console.log('\n\n')


log('data.settings() after argument set\n')
console.dir(data.settings())
console.log('\n\n')

var cli_args = data.parse_cli() // Get out cli arguments
// format for objects -->  name=[boolean,number]
// for strings --> name='"value"'

data.settings(cli_args) // Here we set the settings according to our options
// returns new settings object

log('data.settings().debug --> '+data.settings().debug)
log('data.settings().port --> '+data.settings().port)
log('data.settings().appname --> '+data.settings().appname)
log('data.settings().message --> '+data.settings().message)
